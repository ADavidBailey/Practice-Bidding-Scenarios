Script,MinorSuitTransfer
window.currentPBSScenario = 'MinorSuitTransfer';
window.currentPBSScenarioFilename = 'Minor_Suit_Transfer';
console.log('PBS: Logging scenario selection for MinorSuitTransfer');
fetch('https://bba.harmonicsystems.com/api/scenario/select', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
        'X-Client-Version': '1.0.0'
    },
    body: JSON.stringify({
        scenario: 'MinorSuitTransfer',
        user: whoAmI() || 'anonymous'
    })
}).then(function(r){ console.log('PBS: Server response', r.status); }).catch(function(e){ console.log('PBS: Fetch error', e); });
setDealerCode(`

/*
convention-card: 21GF-MSTandMSS
auction-filter: 1NT Pass (2N|3C)
*/
# MST only is the default.  Note, his is not how we bid MST.  It's how GIB bids those hands.

# Minor Suit Transfer

# enable both MSS and MST
##### Imported Script -- GIB 1 Notrump #####

# GIB opens 1N w/15-17 HCP or 15-16 and a 5-card major
ntP = hcp(south) + shape(south,5xxx+x5xx)
nt1 = shape(south, any 5332+any 4432+any 4333) and hcp(south)>14 and ntP<18

# GIB does not open with 5422 and a 5-card major or with 4 spades
# GIB does not open with 5422 and the strength to reverse
nt2 = shape(south, any 5422-5xxx-x5xx-4xxx) and hcp(south)>14 and hcp(south)<17

gibNT = nt1 or nt2

### End of GIB 1 Notrump ###
# Defines gibNT

# West passes

# North transfers to Clubs(2S) or Diamonds (2N)
nResponds = (shape(north,xxx7+xxx6+xx7x+xx6x) and hcp(north)>7) or (shape(north,xxx9+xxx8+xx9x+xx8x) and hcp(north)>5)

# Now do it
gibNT and nResponds and shape(north,xxxx-4xxx-5xxx-x4xx-x5xx)  // Kill the major suits

produce 1000
action
average "9xxx" 100 * shape(north,any 9xxx),
average "8xxx" 100 * shape(north,any 8xxx),
average "7xxx" 100 * shape(north,any 7xxx),
average "6xxx" 100 * shape(north,any 6xxx),
`, "S", true)
Script
Button,Minor Suit Transfer,\n\
--- Minor Suit Transfer\n\
There are multiple ways to play MST; this is how GIB plays it...\n\
After partner opens 1NT，responder bids the strain below their minor...\n\
• 2N for !C\n\
• 3!C for !D.\n\
After partner opens 1NT，responder bids the strain below their minor...\n\
After partner opens 1NT，responder bids the strain below their minor...\n\
This lets GIB play both MSS and MST，together.  Here's an alternative:\n\
https://www.bridgebum.com/minor_suit_transfers.php\n\
%MinorSuitTransfer%,width=50%
