Script,WeOvercallTheir2C
window.currentPBSScenario = 'WeOvercallTheir2C';
window.currentPBSScenarioFilename = 'We_Overcall_Their_2C';
console.log('PBS: Logging scenario selection for WeOvercallTheir2C');
fetch('https://bba.harmonicsystems.com/api/scenario/select', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
        'X-Client-Version': '1.0.0'
    },
    body: JSON.stringify({
        scenario: 'WeOvercallTheir2C',
        user: whoAmI() || 'anonymous'
    })
}).then(function(r){ console.log('PBS: Server response', r.status); }).catch(function(e){ console.log('PBS: Fetch error', e); });
setDealerCode(`

/*
auction-filter: Auction.....\\n2C [234567]
*/
# They open 2C (strong) and we overcall or preempt


dealer east

eOpens2C = hcp(east)>21

# Define South's good suits
sGC = top4(south,clubs)>2
sGD = top4(south,diamonds)>2
sGH = top4(south,hearts)>2
sGS = top4(south,spades)>2
sGoodSuit = sGC or sGD or sGH or sGS

# Define South's Fair suits
sFC = top4(south,clubs)>1
sFD = top4(south,diamonds)>1
sFH = top4(south,hearts)>1
sFS = top4(south,spades)>1
sFairSuits = sFC + sFD + sFH + sFS

sTwoSuits = shape(south,any 76xx+any 75xx+any 66xx+any 65xx+any 55xx) and sFairSuits==2
sOneSuit  = shape(south,any 9xxx+any 8xxx+any 7xxx+any 6xxx) and sGoodSuit

eOpens2C and (sOneSuit or sTwoSuits) and losers(south)<6

# For statistics only
losersWithOneSuit  = sOneSuit  ? losers(south) : 0
losersWithTwoSuits = sTwoSuits ? losers(south) : 0

produce 500
action
average "hcp east      " hcp(east),
average "sTwoSuits     " 100 * sTwoSuits,
average "losers(south) " losersWithTwoSuits,
average "sOneSuit      " 100 * sOneSuit,
average "losers(south) " losersWithOneSuit,
`, "S", true)
Script
Button,We Overcall Their 2C,\n\
---  They open 2C (strong) and we overcall or preempt.\n\
%WeOvercallTheir2C%
