Script,Snapdragon
setDealerCode(`

# convention-card:
# auction-filter: Auction.....\\n(1C 1D 1[HS])|(1C 1H 1S)|(1D 1H (1S|2C))|(1D 1S 2C)|(1H 1S 2[CD])|(1S 2C 2[DH])

# Overcalls
dealer east

# Predict East's Opening suit
s = spades(east)
h = hearts(east)
d = diamonds(east)
c = clubs(east)
oS = s>4 and s>=h and s>=d and s>=c              and spades(west)<3
oH = not oS and h>4 and h>=d and h>=c            and hearts(west)<3
oD = not (oS or oH) and ((d>3 and d>=c) or c<3)  and diamonds(west)<3
oC = not (oS or oH or oD)                        and clubs(west)<4
eOpens = (oD or oC) and hcp(east)>11 and hcp(east)<15

# Define good suits south with north tollerance (Ax, Kx, or Qx)
sGoodS = spades(south)>4 and top4(south,spades)==2 and top3(north,spades)==1 and shape(north,2xxx)
sGoodH = hearts(south)>4 and top4(south,hearts)==2 and top3(north,hearts)==1 and shape(north,x2xx)
sGoodD = diamonds(south)>4 and top4(south,diamonds)==2 and top3(north,diamonds)==1 and shape(north,xx2x)
sGoodC = clubs(south)>4 and top4(south,clubs)==2 and top3(north,clubs)==1 and shape(north,xxx2)
sBids = (sGoodS or sGoodH or sGoodD or sGoodC) and hcp(south)>8

# West bids a new suit
wGoodS = spades(west)>4   and top4(west,spades)==2   and spades(south)<3
wGoodH = hearts(west)>4   and top4(west,hearts)==2   and hearts(south)<3
wGoodD = diamonds(west)>4 and top4(west,diamonds)==2 and diamonds(south)<3 and not oD
wGoodC = clubs(west)>4    and top4(west,clubs)==2    and clubs(south)<4    and not oC
wBids = (wGoodS or wGoodH or wGoodD or wGoodC) and hcp(west)>8


# Define good suits for north's Snapdragon Double
nGoodS = spades(north)>4   and top4(north,spades)==2
nGoodH = hearts(north)>4   and top4(north,hearts)==2
nGoodD = diamonds(north)>4 and top4(north,diamonds)==2
nGoodC = clubs(north)>4    and top4(north,clubs)==2
nX = (nGoodS or nGoodH or nGoodD or nGoodC) and hcp(north)>7

eOpens and sBidss and wBids and nX

action
average "east 1C" 100 * oC,
average "east 1D" 100 * oD,


`, "E", true);
Script
Button,Snapdragon Double,\n\
--- Snapdragon Double\n\
After LHO opens，partner overcalls，and RHO bids a new suit，a Snapdragon double\n\
is artifical and forcing.  It shows 5+ cards in the lone unbid suit，at least 8 HCP，\n\
and a tolerance for partner's suit.  'Tolerance' ranges from 2 to 3 cards.\n\
https://www.bridgebum.com/snapdragon_double.php\n\
%Snapdragon%
