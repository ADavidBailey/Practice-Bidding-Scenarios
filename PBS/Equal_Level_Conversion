Script,EqualLevConv
setDealerCode(`

# convention-card:
# auction-filter: Auction.....\\n1[HS] [^P].* Pass 

# Equal Level Conversion
produce 500
dealer east

Import,https://github.com/ADavidBailey/Practice-Bidding-Scenarios/blob/main/script/Calm-Opponents
# Defines calmWest

# Predict East's Opening Suit
s = spades(east)
h = hearts(east)
d = diamonds(east)
c = clubs(east)
oS = s>4 and s>=h and s>=d and s>=c
oH = not oS and h>4 and h>=d and h>=c
oD = not (oS or oH) and ((d>3 and d>=c) or c<3)
oC = not (oS or oH or oD)

# East opens 1H or 1S and South is short in opener’s suit w/4om and 5D, west does NOT have support for east
He = oH and hearts(south)<3 and shape(south,4252+4153) and hearts(west)<3
Se = oS and spades(south)<3 and shape(south,2452+1453) and spades(west)<3
eOpens = hcp(east)>11 and hcp(east)<15 and (He or Se)

oMajorCards  = He ? spades(north) + spades(south) : hearts(north) + hearts(south)
diamondCards = diamonds(north) + diamonds(south)
clubCards    = clubs(north) + clubs(south)

# South has 5-Diamonds and 4-cards in the other major and less than 4-clubs
sDoubles = hcp(south)>11 and hcp(south)<15

# Now do it
eOpens and sDoubles and calmWest

action
average "5431" 100 * shape(south,any 5431),
average "5422" 100 * shape(south,any 5422),
average "oM Fit" 100 * (oMajorCards>7),
average "D Fit" 100 * (diamondCards>7),
average "C Fit" 100 * (clubCards>7), 

`, "E", true)
Script
Button,Equal Level Conv,\n\
--- Equal Level Conversion.  East opens a major.  South has 4 of the other major and 5!D.\n\
South X's with the intention of correcting North's 2!C to 2!D，showing nothing extra.\n\
https://www.bridgebum.com/equal_level_conversion.php\n\
%EqualLevConv%,backgroundColor=lightpink
